<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Streamify - Account</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="script.js"></script>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="logo" style="display:flex;align-items:center;gap:10px;">
      <span style="font-weight:600;color:#ff00aa;">Streamify</span>
    </div>

    <ul class="nav-links">
      <li><a href="homepage.html">Home</a></li>
      <li><a href="browse.html">Browse</a></li>
      <li><a href="playlists.html">Playlist</a></li>
      <li><a href="favorites.html">Favorites</a></li>
      <li><a href="accounts.html" class="active">Account</a></li>
    </ul>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search songs, artists, or genres..." />
    </div>
  </nav>

  <!-- ACCOUNT PAGE -->
  <div class="account-container">
    <!-- Left Buttons -->
    <div class="account-left">
      <button data-section="payments" class="active">Payment Options</button>
      <button data-section="settings">Settings</button>
      <button data-section="privacy">Privacy</button>
      <button data-section="logout">Log Out</button>
    </div>

    <!-- Right Content -->
    <div class="account-right">
      <div class="profile-box">
        <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="User">
        <p id="usernameDisplay">User 15879</p>
      </div>
      <div class="dynamic-content" id="accountContent"></div>
    </div>
  </div>

  <!-- Music Player -->
  <div class="music-player">
    <div class="player-content">
      <div class="now-section">
        <img id="albumCover" src="https://via.placeholder.com/60" alt="Album Cover" />
        <div>
          <p id="nowPlaying">Now Playing: None</p>
          <p id="artistName" style="font-size:0.9rem; color:#bbb;">‚Äî</p>
        </div>
      </div>

      <div class="controls">
        <button id="prevBtn">‚èÆÔ∏è</button>
        <button id="playPauseBtn">‚ñ∂Ô∏è</button>
        <button id="nextBtn">‚è≠Ô∏è</button>

        <!-- Progress Bar -->
        <input type="range" id="progressBar" value="0" min="0" max="100" step="0.1" style="flex:1; margin:0 10px;">

        <!-- Volume Control -->
        <div class="volume-container" style="display:flex; align-items:center; gap:8px; margin-left:10px;">
          <span id="volumeIcon" style="font-size:1.2rem; cursor:pointer;">üîä</span>
          <input type="range" id="volumeControl" value="100" min="0" max="100" step="1" style="width:100px;">
        </div>

        <!-- Like Button -->
        <button id="likeBtn" style="font-size:1.2rem; margin-left:10px; cursor:pointer;">ü§ç</button>
      </div>
    </div>
  </div>

 <script>
  // ===== User Data =====
  let user = JSON.parse(localStorage.getItem('streamifyUser')) || {
    username: "User15879",
    password: "password123",
    subscription: "student", // student/solo/duo/family
    payment: "GCash" // GCash/Maya
  };

  function saveUser() {
    localStorage.setItem('streamifyUser', JSON.stringify(user));
    document.getElementById('usernameDisplay').textContent = user.username;
  }

  // ===== Dynamic Account Sections =====
  const buttons = document.querySelectorAll('.account-left button');
  const content = document.getElementById('accountContent');

  function loadSection(sectionName) {
    switch (sectionName) {
      case "payments":
        content.innerHTML = `
          <h3>Payments</h3>
          <div style="display:flex; gap:20px; margin-bottom:20px;">
            <img src="https://brandlogos.net/wp-content/uploads/2024/01/gcash-logo_brandlogos.net_kiaqh-512x427.png" 
                 alt="GCash" class="payment-option" style="cursor:pointer; width:80px; border: ${user.payment === 'GCash' ? '2px solid #ff00aa' : ''};">
            <img src="https://logodix.com/logo/2206762.png" 
                 alt="Maya" class="payment-option" style="cursor:pointer; width:80px; border: ${user.payment === 'Maya' ? '2px solid #ff00aa' : ''};">
          </div>

          <h3>Subscription Plans</h3>
          <div id="plansContainer" style="display:flex; flex-direction:column; gap:12px;"></div>
          <div id="planInfo" class="mt-3" style="border:1px solid #ddd; padding:15px; border-radius:10px; display:none;"></div>
        `;

        const plans = [
          { id: "student", name: "Student Plan", price: "‚Ç±85", desc: "Perfect for students ‚Äî 50% off regular price, enjoy ad-free streaming for one account." },
          { id: "solo", name: "Solo Plan", price: "‚Ç±139", desc: "For individual users. Get premium audio quality, offline mode, and ad-free experience." },
          { id: "duo", name: "Duo Plan", price: "‚Ç±199", desc: "Two accounts ‚Äî one discounted price. Ideal for couples or roommates." },
          { id: "family", name: "Family Plan", price: "‚Ç±299", desc: "Up to 6 accounts. Parental control and personalized recommendations for each member." }
        ];

        const plansContainer = document.getElementById('plansContainer');
        const planInfo = document.getElementById('planInfo');

        plans.forEach(plan => {
          const btn = document.createElement('button');
          btn.className = 'btn-pink sub-btn';
          btn.dataset.plan = plan.id;
          btn.textContent = `${plan.name} - ${plan.price}`;
          btn.style.border = user.subscription === plan.id ? '2px solid #ff00aa' : '';

          btn.addEventListener('click', () => {
            // Show plan details on first click
            planInfo.style.display = 'block';
            planInfo.innerHTML = `
              <h4>${plan.name}</h4>
              <p>${plan.desc}</p>
              <button class="btn-pink" id="confirmSub">Subscribe Now</button>
            `;

            document.getElementById('confirmSub').addEventListener('click', () => {
              user.subscription = plan.id;
              saveUser();
              window.location.href = 'subscription.html';
            });
          });

          plansContainer.appendChild(btn);
        });

        // Payment option click
        document.querySelectorAll('.payment-option').forEach(img => {
          img.addEventListener('click', () => {
            user.payment = img.alt;
            saveUser();
            loadSection('payments'); // reload to update highlight
          });
        });
        break;

      case "settings":
        content.innerHTML = `
          <h3>Settings</h3>
          <label>Username:</label>
          <input type="text" id="newUsername" value="${user.username}">
          <label>New Password:</label>
          <input type="password" id="newPassword" placeholder="Enter new password">
          <button class="btn-pink" id="saveSettings">Save Changes</button>
        `;
        document.getElementById('saveSettings').addEventListener('click', () => {
          const newU = document.getElementById('newUsername').value.trim();
          const newP = document.getElementById('newPassword').value.trim();
          if (newU) user.username = newU;
          if (newP) user.password = newP;
          saveUser();
          alert("Settings updated successfully!");
        });
        break;

      case "privacy":
        content.innerHTML = `
          <h3>Privacy</h3>
          <p>Manage who can see your playlists and activity.</p>
        `;
        break;

      case "logout":
        content.innerHTML = `
          <h3>Log Out</h3>
          <p>Click the logout button below to end your session.</p>
          <button class="btn-pink" id="logoutBtn">Log Out</button>
        `;
        document.getElementById('logoutBtn').addEventListener('click', () => {
          localStorage.removeItem('streamifyUser');
          window.location.href = 'login.html';
        });
        break;
    }
  }

  // Switch sections on button click
  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      buttons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      loadSection(btn.dataset.section);
    });
  });

  // Load initial section
  loadSection('payments');
  document.getElementById('usernameDisplay').textContent = user.username;
</script>

</body>
</html>
